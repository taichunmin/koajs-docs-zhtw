<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Context | Koa</title>
    <meta name="description" content="Node.js 的新時代網站開發框架">
    <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.e12a2e82.css" as="style"><link rel="preload" href="/assets/js/app.cfe081ae.js" as="script"><link rel="preload" href="/assets/js/2.2aa01fdc.js" as="script"><link rel="preload" href="/assets/js/5.3f7ed597.js" as="script"><link rel="prefetch" href="/assets/js/10.2a47a478.js"><link rel="prefetch" href="/assets/js/11.58872877.js"><link rel="prefetch" href="/assets/js/12.211d2f48.js"><link rel="prefetch" href="/assets/js/13.3c1dec54.js"><link rel="prefetch" href="/assets/js/14.bed908c5.js"><link rel="prefetch" href="/assets/js/15.63a749ac.js"><link rel="prefetch" href="/assets/js/16.19a55eab.js"><link rel="prefetch" href="/assets/js/3.9811ca3e.js"><link rel="prefetch" href="/assets/js/4.cc687f9f.js"><link rel="prefetch" href="/assets/js/6.7fe4d02e.js"><link rel="prefetch" href="/assets/js/7.9d338057.js"><link rel="prefetch" href="/assets/js/8.587feb79.js"><link rel="prefetch" href="/assets/js/9.499e59cc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e12a2e82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Koa</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/koajs/koa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/koajs/examples" target="_blank" rel="noopener noreferrer" class="nav-link external">
  範例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/koajs/koa/wiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Middleware 與 Wiki
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/koajs/koa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/koajs/examples" target="_blank" rel="noopener noreferrer" class="nav-link external">
  範例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/koajs/koa/wiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Middleware 與 Wiki
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/api/" class="sidebar-link">安裝</a></li><li><a href="/api/context.html" class="active sidebar-link">Context</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/context.html#api" class="sidebar-link">API</a></li><li class="sidebar-sub-header"><a href="/api/context.html#request-aliases" class="sidebar-link">Request aliases</a></li><li class="sidebar-sub-header"><a href="/api/context.html#response-aliases" class="sidebar-link">Response aliases</a></li></ul></li><li><a href="/api/request.html" class="sidebar-link">Request</a></li><li><a href="/api/response.html" class="sidebar-link">Response</a></li><li><a href="/guide.html" class="sidebar-link">Guide</a></li><li><a href="/faq.html" class="sidebar-link">Frequently Asked Questions</a></li><li><a href="/error-handling.html" class="sidebar-link">Error Handling</a></li><li><a href="/koa-vs-express.html" class="sidebar-link">/koa-vs-express.html</a></li><li><a href="/migration.html" class="sidebar-link">Migrating from Koa v1.x to v2.x</a></li><li><a href="/troubleshooting.html" class="sidebar-link">Troubleshooting Koa</a></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="context"><a href="#context" aria-hidden="true" class="header-anchor">#</a> Context</h1> <p>A Koa Context encapsulates node's <code>request</code> and <code>response</code> objects
into a single object which provides many helpful methods for writing
web applications and APIs.
These operations are used so frequently in HTTP server development
that they are added at this level instead of a higher level framework,
which would force middleware to re-implement this common functionality.</p> <p>A <code>Context</code> is created <em>per</em> request, and is referenced in middleware
as the receiver, or the <code>ctx</code> identifier, as shown in the following
snippet:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token keyword">async</span> ctx <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  ctx<span class="token punctuation">;</span> <span class="token comment">// is the Context</span>
  ctx<span class="token punctuation">.</span>request<span class="token punctuation">;</span> <span class="token comment">// is a Koa Request</span>
  ctx<span class="token punctuation">.</span>response<span class="token punctuation">;</span> <span class="token comment">// is a Koa Response</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Many of the context's accessors and methods simply delegate to their <code>ctx.request</code> or <code>ctx.response</code>
equivalents for convenience, and are otherwise identical. For example <code>ctx.type</code> and <code>ctx.length</code>
delegate to the <code>response</code> object, and <code>ctx.path</code> and <code>ctx.method</code> delegate to the <code>request</code>.</p> <h2 id="api"><a href="#api" aria-hidden="true" class="header-anchor">#</a> API</h2> <p><code>Context</code> specific methods and accessors.</p> <h3 id="ctx-req"><a href="#ctx-req" aria-hidden="true" class="header-anchor">#</a> ctx.req</h3> <p>Node's <code>request</code> object.</p> <h3 id="ctx-res"><a href="#ctx-res" aria-hidden="true" class="header-anchor">#</a> ctx.res</h3> <p>Node's <code>response</code> object.</p> <p>Bypassing Koa's response handling is <strong>not supported</strong>. Avoid using the following node properties:</p> <ul><li><code>res.statusCode</code></li> <li><code>res.writeHead()</code></li> <li><code>res.write()</code></li> <li><code>res.end()</code></li></ul> <h3 id="ctx-request"><a href="#ctx-request" aria-hidden="true" class="header-anchor">#</a> ctx.request</h3> <p>A Koa <code>Request</code> object.</p> <h3 id="ctx-response"><a href="#ctx-response" aria-hidden="true" class="header-anchor">#</a> ctx.response</h3> <p>A Koa <code>Response</code> object.</p> <h3 id="ctx-state"><a href="#ctx-state" aria-hidden="true" class="header-anchor">#</a> ctx.state</h3> <p>The recommended namespace for passing information through middleware and to your frontend views.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ctx<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="ctx-app"><a href="#ctx-app" aria-hidden="true" class="header-anchor">#</a> ctx.app</h3> <p>Application instance reference.</p> <h3 id="ctx-app-emit"><a href="#ctx-app-emit" aria-hidden="true" class="header-anchor">#</a> ctx.app.emit</h3> <p>Koa applications extend an internal <a href="https://nodejs.org/dist/latest-v11.x/docs/api/events.html" target="_blank" rel="noopener noreferrer">EventEmitter<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. <code>ctx.app.emit</code> emits an event with a type, defined by the first argument. For each event you can hook up &quot;listeners&quot;, which is a function that is called when the event is emitted. Consult the <a href="https://koajs.com/#error-handling" target="_blank" rel="noopener noreferrer">error handling docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for more information.</p> <h3 id="ctx-cookies-get-name-options"><a href="#ctx-cookies-get-name-options" aria-hidden="true" class="header-anchor">#</a> ctx.cookies.get(name, [options])</h3> <p>Get cookie <code>name</code> with <code>options</code>:</p> <ul><li><code>signed</code> the cookie requested should be signed</li></ul> <p>Koa uses the <a href="https://github.com/jed/cookies" target="_blank" rel="noopener noreferrer">cookies<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> module where options are simply passed.</p> <h3 id="ctx-cookies-set-name-value-options"><a href="#ctx-cookies-set-name-value-options" aria-hidden="true" class="header-anchor">#</a> ctx.cookies.set(name, value, [options])</h3> <p>Set cookie <code>name</code> to <code>value</code> with <code>options</code>:</p> <ul><li><code>maxAge</code> a number representing the milliseconds from Date.now() for expiry</li> <li><code>signed</code> sign the cookie value</li> <li><code>expires</code> a <code>Date</code> for cookie expiration</li> <li><code>path</code> cookie path, <code>/'</code> by default</li> <li><code>domain</code> cookie domain</li> <li><code>secure</code> secure cookie</li> <li><code>httpOnly</code> server-accessible cookie, <strong>true</strong> by default</li> <li><code>overwrite</code> a boolean indicating whether to overwrite previously set cookies of the same name (<strong>false</strong> by default). If this is true, all cookies set during the same request with the same name (regardless of path or domain) are filtered out of the Set-Cookie header when setting this cookie.</li></ul> <p>Koa uses the <a href="https://github.com/jed/cookies" target="_blank" rel="noopener noreferrer">cookies<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> module where options are simply passed.</p> <h3 id="ctx-throw-status-msg-properties"><a href="#ctx-throw-status-msg-properties" aria-hidden="true" class="header-anchor">#</a> ctx.throw([status], [msg], [properties])</h3> <p>Helper method to throw an error with a <code>.status</code> property
defaulting to <code>500</code> that will allow Koa to respond appropriately.
The following combinations are allowed:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ctx<span class="token punctuation">.</span><span class="token keyword">throw</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token keyword">throw</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token string">'name required'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token keyword">throw</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token string">'name required'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> user<span class="token punctuation">:</span> user <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>For example <code>ctx.throw(400, 'name required')</code> is equivalent to:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> err <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'name required'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
err<span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">;</span>
err<span class="token punctuation">.</span>expose <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">throw</span> err<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Note that these are user-level errors and are flagged with
<code>err.expose</code> meaning the messages are appropriate for
client responses, which is typically not the case for
error messages since you do not want to leak failure
details.</p> <p>You may optionally pass a <code>properties</code> object which is merged into the error as-is, useful for decorating machine-friendly errors which are reported to the requester upstream.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ctx<span class="token punctuation">.</span><span class="token keyword">throw</span><span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">,</span> <span class="token string">'access_denied'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> user<span class="token punctuation">:</span> user <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Koa uses <a href="https://github.com/jshttp/http-errors" target="_blank" rel="noopener noreferrer">http-errors<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to create errors. <code>status</code> should only be passed as the first parameter.</p> <h3 id="ctx-assert-value-status-msg-properties"><a href="#ctx-assert-value-status-msg-properties" aria-hidden="true" class="header-anchor">#</a> ctx.assert(value, [status], [msg], [properties])</h3> <p>Helper method to throw an error similar to <code>.throw()</code>
when <code>!value</code>. Similar to node's <a href="http://nodejs.org/api/assert.html" target="_blank" rel="noopener noreferrer">assert()<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
method.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ctx<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>ctx<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">,</span> <span class="token number">401</span><span class="token punctuation">,</span> <span class="token string">'User not found. Please login!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Koa uses <a href="https://github.com/jshttp/http-assert" target="_blank" rel="noopener noreferrer">http-assert<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for assertions.</p> <h3 id="ctx-respond"><a href="#ctx-respond" aria-hidden="true" class="header-anchor">#</a> ctx.respond</h3> <p>To bypass Koa's built-in response handling, you may explicitly set <code>ctx.respond = false;</code>. Use this if you want to write to the raw <code>res</code> object instead of letting Koa handle the response for you.</p> <p>Note that using this is <strong>not</strong> supported by Koa. This may break intended functionality of Koa middleware and Koa itself. Using this property is considered a hack and is only a convenience to those wishing to use traditional <code>fn(req, res)</code> functions and middleware within Koa.</p> <h2 id="request-aliases"><a href="#request-aliases" aria-hidden="true" class="header-anchor">#</a> Request aliases</h2> <p>The following accessors and alias <a href="/api/request.html">Request</a> equivalents:</p> <ul><li><code>ctx.header</code></li> <li><code>ctx.headers</code></li> <li><code>ctx.method</code></li> <li><code>ctx.method=</code></li> <li><code>ctx.url</code></li> <li><code>ctx.url=</code></li> <li><code>ctx.originalUrl</code></li> <li><code>ctx.origin</code></li> <li><code>ctx.href</code></li> <li><code>ctx.path</code></li> <li><code>ctx.path=</code></li> <li><code>ctx.query</code></li> <li><code>ctx.query=</code></li> <li><code>ctx.querystring</code></li> <li><code>ctx.querystring=</code></li> <li><code>ctx.host</code></li> <li><code>ctx.hostname</code></li> <li><code>ctx.fresh</code></li> <li><code>ctx.stale</code></li> <li><code>ctx.socket</code></li> <li><code>ctx.protocol</code></li> <li><code>ctx.secure</code></li> <li><code>ctx.ip</code></li> <li><code>ctx.ips</code></li> <li><code>ctx.subdomains</code></li> <li><code>ctx.is()</code></li> <li><code>ctx.accepts()</code></li> <li><code>ctx.acceptsEncodings()</code></li> <li><code>ctx.acceptsCharsets()</code></li> <li><code>ctx.acceptsLanguages()</code></li> <li><code>ctx.get()</code></li></ul> <h2 id="response-aliases"><a href="#response-aliases" aria-hidden="true" class="header-anchor">#</a> Response aliases</h2> <p>The following accessors and alias <a href="/api/response.html">Response</a> equivalents:</p> <ul><li><code>ctx.body</code></li> <li><code>ctx.body=</code></li> <li><code>ctx.status</code></li> <li><code>ctx.status=</code></li> <li><code>ctx.message</code></li> <li><code>ctx.message=</code></li> <li><code>ctx.length=</code></li> <li><code>ctx.length</code></li> <li><code>ctx.type=</code></li> <li><code>ctx.type</code></li> <li><code>ctx.headerSent</code></li> <li><code>ctx.redirect()</code></li> <li><code>ctx.attachment()</code></li> <li><code>ctx.set()</code></li> <li><code>ctx.append()</code></li> <li><code>ctx.remove()</code></li> <li><code>ctx.lastModified=</code></li> <li><code>ctx.etag=</code></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/api/" class="prev router-link-active">
          安裝
        </a></span> <span class="next"><a href="/api/request.html">
          Request
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.cfe081ae.js" defer></script><script src="/assets/js/2.2aa01fdc.js" defer></script><script src="/assets/js/5.3f7ed597.js" defer></script>
  </body>
</html>
