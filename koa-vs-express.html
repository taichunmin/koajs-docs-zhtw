<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Koa</title>
    <meta name="description" content="Node.js 的新時代網站開發框架">
    <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.e12a2e82.css" as="style"><link rel="preload" href="/assets/js/app.cfe081ae.js" as="script"><link rel="preload" href="/assets/js/2.2aa01fdc.js" as="script"><link rel="preload" href="/assets/js/12.211d2f48.js" as="script"><link rel="prefetch" href="/assets/js/10.2a47a478.js"><link rel="prefetch" href="/assets/js/11.58872877.js"><link rel="prefetch" href="/assets/js/13.3c1dec54.js"><link rel="prefetch" href="/assets/js/14.bed908c5.js"><link rel="prefetch" href="/assets/js/15.63a749ac.js"><link rel="prefetch" href="/assets/js/16.19a55eab.js"><link rel="prefetch" href="/assets/js/3.9811ca3e.js"><link rel="prefetch" href="/assets/js/4.cc687f9f.js"><link rel="prefetch" href="/assets/js/5.3f7ed597.js"><link rel="prefetch" href="/assets/js/6.7fe4d02e.js"><link rel="prefetch" href="/assets/js/7.9d338057.js"><link rel="prefetch" href="/assets/js/8.587feb79.js"><link rel="prefetch" href="/assets/js/9.499e59cc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e12a2e82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Koa</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/koajs/koa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/koajs/examples" target="_blank" rel="noopener noreferrer" class="nav-link external">
  範例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/koajs/koa/wiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Middleware 與 Wiki
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/koajs/koa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/koajs/examples" target="_blank" rel="noopener noreferrer" class="nav-link external">
  範例
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/koajs/koa/wiki" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Middleware 與 Wiki
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/api/" class="sidebar-link">安裝</a></li><li><a href="/api/context.html" class="sidebar-link">Context</a></li><li><a href="/api/request.html" class="sidebar-link">Request</a></li><li><a href="/api/response.html" class="sidebar-link">Response</a></li><li><a href="/guide.html" class="sidebar-link">Guide</a></li><li><a href="/faq.html" class="sidebar-link">Frequently Asked Questions</a></li><li><a href="/error-handling.html" class="sidebar-link">Error Handling</a></li><li><a href="/koa-vs-express.html" class="active sidebar-link">/koa-vs-express.html</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/koa-vs-express.html#does-koa-replace-express" class="sidebar-link">Does Koa replace Express?</a></li><li class="sidebar-sub-header"><a href="/koa-vs-express.html#does-koa-replace-connect" class="sidebar-link">Does Koa replace Connect?</a></li><li class="sidebar-sub-header"><a href="/koa-vs-express.html#why-isnt-koa-just-express-4-0" class="sidebar-link">Why isn't Koa just Express 4.0?</a></li><li class="sidebar-sub-header"><a href="/koa-vs-express.html#how-is-koa-different-than-connect-express" class="sidebar-link">How is Koa different than Connect/Express?</a></li></ul></li><li><a href="/migration.html" class="sidebar-link">Migrating from Koa v1.x to v2.x</a></li><li><a href="/troubleshooting.html" class="sidebar-link">Troubleshooting Koa</a></li></ul> </aside> <main class="page"> <div class="content default"><p>THIS DOCUMENT IS IN PROGRESS. THIS PARAGRAPH SHALL BE REMOVED WHEN THIS DOCUMENT IS DONE.</p> <h1 id="koa-vs-express"><a href="#koa-vs-express" aria-hidden="true" class="header-anchor">#</a> Koa vs Express</h1> <p>Philosophically, Koa aims to &quot;fix and replace node&quot;, whereas Express &quot;augments node&quot;.
Koa uses promises and async functions to rid apps of callback hell and simplify error handling.
It exposes its own <code>ctx.request</code> and <code>ctx.response</code> objects instead of node's <code>req</code> and <code>res</code> objects.</p> <p>Express, on the other hand, augments node's <code>req</code> and <code>res</code> objects with additional properties and methods
and includes many other &quot;framework&quot; features, such as routing and templating, which Koa does not.</p> <p>Thus, Koa can be viewed as an abstraction of node.js's <code>http</code> modules, where as Express is an application framework for node.js.</p> <table><thead><tr><th style="text-align:right;">Feature</th> <th>Koa</th> <th>Express</th> <th>Connect</th></tr></thead> <tbody><tr><td style="text-align:right;">Middleware Kernel</td> <td>✓</td> <td>✓</td> <td>✓</td></tr> <tr><td style="text-align:right;">Routing</td> <td></td> <td>✓</td> <td></td></tr> <tr><td style="text-align:right;">Templating</td> <td></td> <td>✓</td> <td></td></tr> <tr><td style="text-align:right;">Sending Files</td> <td></td> <td>✓</td> <td></td></tr> <tr><td style="text-align:right;">JSONP</td> <td></td> <td>✓</td> <td></td></tr></tbody></table> <p>Thus, if you'd like to be closer to node.js and traditional node.js-style coding, you probably want to stick to Connect/Express or similar frameworks.
If you want to get rid of callbacks, use Koa.</p> <p>As result of this different philosophy is that traditional node.js &quot;middleware&quot;, i.e. functions of the form <code>(req, res, next)</code>, are incompatible with Koa. Your application will essentially have to be rewritten from the ground, up.</p> <h2 id="does-koa-replace-express"><a href="#does-koa-replace-express" aria-hidden="true" class="header-anchor">#</a> Does Koa replace Express?</h2> <p>It's more like Connect, but a lot of the Express goodies
were moved to the middleware level in Koa to help form
a stronger foundation. This makes middleware more enjoyable
and less error-prone to write, for the entire stack, not
just the end application code.</p> <p>Typically many middleware would
re-implement similar features, or even worse incorrectly implement them,
when features like signed cookie secrets among others are typically application-specific,
not middleware specific.</p> <h2 id="does-koa-replace-connect"><a href="#does-koa-replace-connect" aria-hidden="true" class="header-anchor">#</a> Does Koa replace Connect?</h2> <p>No, just a different take on similar functionality
now that generators allow us to write code with less
callbacks. Connect is equally capable, and some may still prefer it,
it's up to what you prefer.</p> <h2 id="why-isnt-koa-just-express-4-0"><a href="#why-isnt-koa-just-express-4-0" aria-hidden="true" class="header-anchor">#</a> Why isn't Koa just Express 4.0?</h2> <p>Koa is a pretty large departure from what people know about Express,
the design is fundamentally much different, so the migration from
Express 3.0 to this Express 4.0 would effectively mean rewriting
the entire application, so we thought it would be more appropriate
to create a new library.</p> <h2 id="how-is-koa-different-than-connect-express"><a href="#how-is-koa-different-than-connect-express" aria-hidden="true" class="header-anchor">#</a> How is Koa different than Connect/Express?</h2> <h3 id="promises-based-control-flow"><a href="#promises-based-control-flow" aria-hidden="true" class="header-anchor">#</a> Promises-based control flow</h3> <p>No callback hell.</p> <p>Better error handling through try/catch.</p> <p>No need for domains.</p> <h3 id="koa-is-barebones"><a href="#koa-is-barebones" aria-hidden="true" class="header-anchor">#</a> Koa is barebones</h3> <p>Unlike both Connect and Express, Koa does not include any middleware.</p> <p>Unlike Express, routing is not provided.</p> <p>Unlike Express, many convenience utilities are not provided. For example, sending files.</p> <p>Koa is more modular.</p> <h3 id="koa-relies-less-on-middleware"><a href="#koa-relies-less-on-middleware" aria-hidden="true" class="header-anchor">#</a> Koa relies less on middleware</h3> <p>For example, instead of a &quot;body parsing&quot; middleware, you would instead use a body parsing function.</p> <h3 id="koa-abstracts-nodes-request-response"><a href="#koa-abstracts-nodes-request-response" aria-hidden="true" class="header-anchor">#</a> Koa abstracts node's request/response</h3> <p>Less hackery.</p> <p>Better user experience.</p> <p>Proper stream handling.</p> <h3 id="koa-routing-third-party-libraries-support"><a href="#koa-routing-third-party-libraries-support" aria-hidden="true" class="header-anchor">#</a> Koa routing (third party libraries support)</h3> <p>Since Express comes with its own routing, but Koa does not have
any in-built routing, there are third party libraries available such as
koa-router and koa-route.
Similarly, just like we have helmet for security in Express, for Koa
we have koa-helmet available and the list goes on for Koa available third
party libraries.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/error-handling.html" class="prev">
          Error Handling
        </a></span> <span class="next"><a href="/migration.html">
          Migrating from Koa v1.x to v2.x
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.cfe081ae.js" defer></script><script src="/assets/js/2.2aa01fdc.js" defer></script><script src="/assets/js/12.211d2f48.js" defer></script>
  </body>
</html>
